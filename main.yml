name : Node.js CI/CD Pipeline
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
jobs:
  build and test:
  runs-on: ubuntu-latest
  steps:
    -name : Checkout code
    uses: actions/checkout@v2
    -name: Set up Node.js
    uses: actions/setup-node@v2
    with:
    node-version: '18'
    -name: Install dependencies
    run: npm Install
    -name : Run tests
    run: npm test
          
  deploy:
  runs-on: ubuntu-latest
  needs: build and test
  steps:
    -name: Checkout code
    uses: actions/checkout@v2
    -name: Set up Node.js
    uses: actions/setup-node@v2
    with:
      node-version: '18'
    -name: Install dependencies
    run: npm install    
    -name: Deploy to production
    run: |
      echo "Deploying to production server..."
      # Add your deployment commands here, e.g., scp, rsync, etc.
      # Example: scp -r ./dist user@yourserver:/path/to/deploy
      echo "Deployment complete!"
